document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("btnAttachFile"),o=document.getElementById("inputFile"),l=document.getElementById("fileUploadForm");n&&o&&(n.addEventListener("click",function(){o.click()}),o.addEventListener("change",function(){o.files.length>0&&(n.innerHTML='<span class="loading loading-spinner loading-xs"></span> Uploading...',n.disabled=!0,l.submit())}));const a=document.getElementById("toggleTTL"),t=document.getElementById("ttlInput"),i=document.getElementById("routeExpiration"),d=document.getElementById("btnSaveConfig");if(a&&t&&a.addEventListener("change",function(){this.checked?(t.disabled=!1,t.focus()):(t.disabled=!0,t.value="")}),d&&d.addEventListener("click",function(){i&&(i.value=t.value,document.getElementById("modal_configure").close())}),t&&!t.value){const e=new Date;e.setHours(e.getHours()+24);const c=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),u=String(e.getDate()).padStart(2,"0"),g=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");t.value=`${c}-${s}-${u}T${g}:${r}`,i.value=t.value}});
